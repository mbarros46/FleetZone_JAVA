-- Remove as tabelas se já existirem
--DROP TABLE MOTO CASCADE CONSTRAINTS;
--DROP TABLE PATIO CASCADE CONSTRAINTS;


CREATE TABLE PATIO (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NOME VARCHAR2(100),
    LOCALIZACAO VARCHAR2(200)
);

-- Cria a tabela de motos com chave estrangeira
CREATE TABLE MOTO (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    MODELO VARCHAR2(100) NOT NULL,
    PLACA VARCHAR2(20) NOT NULL,
    STATUS VARCHAR2(50),
    PATIO_ID NUMBER,
    FOREIGN KEY (PATIO_ID) REFERENCES PATIO(ID)
);

-- Insere um pátio com ID gerado automaticamente (vai ser 1)
INSERT INTO PATIO (NOME, LOCALIZACAO) VALUES ('Filial Centro', 'Rua A, 123');

-- Insere uma moto associada ao pátio ID 1
INSERT INTO MOTO (MODELO, PLACA, STATUS, PATIO_ID) VALUES ('Honda CG 160', 'ABC1D23', 'ativa', 1);
